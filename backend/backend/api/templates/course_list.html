<!DOCTYPE html>
<html>
<head>
    <title>Courses</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<div class="container mt-5">

    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="fw-bold">Course List</h2>
        <a href="{% url 'add_courses' %}" class="btn btn-primary">
            + Add Course
        </a>
    </div>

    <div class="row">

        {% for course in courses %}
        <div class="col-md-4 mb-4">
            <div class="card shadow h-100 border-0">

                {% if course.get_embed_url %}
<div style="position: relative; width: 100%; padding-bottom: 56.25%; height: 0;">
    <!-- <iframe src="{{ course.get_embed_url }}"
            style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: 0;"
            allowfullscreen>
    </iframe> -->
    <div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><iframe src="{{ course.get_embed_url }}" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute; border: 0;" 
        allowfullscreen scrolling="no" allow="accelerometer *; clipboard-write *; encrypted-media *; gyroscope *; picture-in-picture *; web-share *;" referrerpolicy="strict-origin">
    </iframe></div>
</div>
{% endif %}

                <div class="card-body">
                    <h5 class="card-title fw-semibold">{{ course.title }}</h5>
                    <p class="card-text text-muted">
                        {{ course.description|truncatewords:20 }}
                    </p>
                </div>

                <div class="card-footer text-center bg-white border-0 pb-3">
                    <a href="{% url 'edit_course' course.id %}"
                       class="btn btn-sm btn-primary me-2">
                        Edit
                    </a>

                    <a href="{% url 'delete_course' course.id %}"
                       class="btn btn-sm btn-danger"
                       onclick="return confirm('Are you sure you want to delete this course?');">
                        Delete
                    </a>
                </div>

            </div>
        </div>
        {% empty %}
        <div class="col-12 text-center">
            <p class="text-muted">No courses available.</p>
        </div>
        {% endfor %}

    </div>
    
                    

</div>

</body>
</html>